(this["webpackJsonprick-and-morty-fan"]=this["webpackJsonprick-and-morty-fan"]||[]).push([[0],{20:function(e,t,a){e.exports={gallery:"HomePage_gallery__vDhm-","navigation-box-buttons":"HomePage_navigation-box-buttons__20GTy","navigation-box-input":"HomePage_navigation-box-input__1MakE"}},33:function(e,t,a){},35:function(e,t,a){},42:function(e,t,a){"use strict";a.r(t);var r=a(1),n=a.n(r),i=a(27),c=a.n(i),s=(a(33),a(10)),l=a.n(s),o=a(21),d=a(4),h=a(17),j=a(13),p=a(14),u=a(11),b=a(16),g=a(15),O=a(19),f=a(2),v=(a(35),a.p+"static/media/the_rick_and_morty.ef0492d0.png"),x=a(20),m=a.n(x),_=a(9),C=a.n(_),y=a(0),k=function(e){var t="gray";switch(e.status){case"Alive":t="green";break;case"Dead":t="red"}return Object(y.jsx)("div",{title:e.status,style:{width:14,height:14,display:"inline-block",borderRadius:"50%",backgroundColor:t}})},N=function(e){var t=e.character;return Object(y.jsxs)("section",{className:C.a.tile,title:"Click me for more details",children:[Object(y.jsx)("div",{className:C.a.image,children:Object(y.jsx)("img",{className:C.a["image-img"],src:t.image,alt:t.name})}),Object(y.jsxs)("div",{className:C.a.details,children:[Object(y.jsxs)("div",{style:{display:"flex"},children:[Object(y.jsx)("div",{children:t.name}),Object(y.jsx)("div",{style:{flex:1}}),Object(y.jsx)(k,{status:t.status})]}),Object(y.jsxs)("div",{className:C.a["sub-details"],children:[Object(y.jsxs)("div",{className:C.a["sub-details-line"],children:[t.species," - ",t.gender]}),Object(y.jsx)("div",{className:C.a["sub-details-line"],children:t.type?Object(y.jsxs)("div",{className:C.a["sub-details-line"],children:[Object(y.jsx)("b",{children:"Type:"})," ",t.type]}):null}),Object(y.jsxs)("div",{className:C.a["sub-details-line"],children:[Object(y.jsx)("b",{children:"Origin:"})," - ",t.origin.name]}),Object(y.jsxs)("div",{className:C.a["sub-details-line"],children:[Object(y.jsx)("b",{children:"Now:"})," - ",t.location.name]})]})]})]})},P="https://rickandmortyapi.com/api/",w=function(){var e=Object(h.a)(l.a.mark((function e(){var t,a,r=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:1,e.next=3,fetch("".concat(P,"character?page=").concat(t));case 3:return a=e.sent,e.next=6,a.json();case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),T=function(){var e=Object(h.a)(l.a.mark((function e(t){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(P,"character/").concat(t));case 2:return a=e.sent,e.next=5,a.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),R=function(e){if(!e)return-1;var t=e.split("".concat(P,"character?page=")),a=parseInt(t[1]||"-1");return isNaN(a)?-1:a},L=function(e){Object(b.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(j.a)(this,a),(n=t.call(this,e)).pageRef=void 0,n.pageRef=Object(r.createRef)(),n.handleGoToPageClick=n.handleGoToPageClick.bind(Object(u.a)(n)),n}return Object(p.a)(a,[{key:"componentDidMount",value:function(){var e,t,a,r=null===(e=this.props)||void 0===e||null===(t=e.match)||void 0===t||null===(a=t.params)||void 0===a?void 0:a.pageId;this.props.handlePageChange(r),this.pageRef.current&&(this.pageRef.current.value=r)}},{key:"handlePageNavigation",value:function(e){var t,a=e>0?"next":"prev",r=null===(t=this.props.page)||void 0===t?void 0:t.info[a],n=R(r);n>0&&(this.props.handlePageChange(n),this.props.history.push("/".concat(n)),this.pageRef.current&&(this.pageRef.current.value=n.toString()))}},{key:"handleGoToPageClick",value:function(){var e,t,a=parseInt((null===(e=this.pageRef.current)||void 0===e?void 0:e.value)||"0"),r=(null===(t=this.props.page)||void 0===t?void 0:t.info.pages)||1;r<a&&(a=r),a<0&&(a=1),this.props.handlePageChange(a),this.props.history.push("/".concat(a)),this.pageRef.current&&(this.pageRef.current.value=a.toString())}},{key:"render",value:function(){var e,t,a=this,r=this.props,n=r.page,i=r.pageLoading,c=Object(y.jsx)("nav",{className:m.a["navigation-box"],children:n?Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)("div",{className:m.a["navigation-box-buttons"],children:[Object(y.jsx)("button",{"data-testid":"prevButton",disabled:-1===R(null===(e=this.props.page)||void 0===e?void 0:e.info.prev),onClick:function(){a.handlePageNavigation(-1)},children:"Prev"}),Object(y.jsx)("button",{"data-testid":"nextButton",disabled:-1===R(null===(t=this.props.page)||void 0===t?void 0:t.info.next),onClick:function(){a.handlePageNavigation(1)},children:"Next"})]}),Object(y.jsxs)("div",{className:m.a["navigation-box-input"],children:[Object(y.jsx)("input",{id:"page","data-testid":"pageInputField",type:"number",pattern:"\\d*",ref:this.pageRef,max:n.info.pages,style:{backgroundColor:"#fff",border:"1px solid black",color:"#22a2bd",width:50,padding:8}}),Object(y.jsx)("button",{"data-testid":"goToPageButton",onClick:this.handleGoToPageClick,children:"Go to page"})]})]}):Object(y.jsx)("button",{"data-testid":"homeButton",onClick:function(){a.props.history.push("/")},children:"Home"})});return i?Object(y.jsxs)(y.Fragment,{children:[c,Object(y.jsx)("div",{className:"message",style:{color:"#00f"},children:"Please wait..."})]}):n?Object(y.jsxs)(y.Fragment,{children:[c,Object(y.jsx)("div",{className:m.a.gallery,children:n.results.map((function(e){return Object(y.jsx)(O.b,{style:{textDecoration:"none"},to:"/character/".concat(e.id),children:Object(y.jsx)(N,{character:e})},e.id)}))})]}):Object(y.jsxs)(y.Fragment,{children:[c,Object(y.jsx)("div",{className:"message",style:{color:"#f00"},children:'We have checked the whole "The Rick and Morty" universe but could not find what you are looking for!'})]})}}]),a}(r.Component),B=a(7),I=a.n(B),F=function(e){Object(b.a)(a,e);var t=Object(g.a)(a);function a(){return Object(j.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"componentDidMount",value:function(){var e,t,a,r=null===(e=this.props)||void 0===e||null===(t=e.match)||void 0===t||null===(a=t.params)||void 0===a?void 0:a.characterId;this.props.handleCharacterChange(parseInt(r))}},{key:"render",value:function(){var e=this,t=this.props,a=t.character,r=t.characterLoading,n=Object(y.jsx)("button",{"data-testid":"goBackButton",onClick:function(){e.props.history.goBack()},children:"< Go Back"});return r?Object(y.jsxs)(y.Fragment,{children:[n,Object(y.jsx)("div",{className:"message",style:{color:"#00f"},children:"Please wait..."})]}):a?Object(y.jsxs)(y.Fragment,{children:[n,Object(y.jsxs)("section",{className:I.a.wrapper,children:[Object(y.jsx)("div",{className:I.a["profile-picture"],children:Object(y.jsx)("img",{style:{width:"100%"},alt:a.name,src:a.image})}),Object(y.jsxs)("div",{className:I.a["profile-details"],children:[Object(y.jsx)("div",{className:I.a["profile-details-title"],children:a.name}),Object(y.jsxs)("div",{className:I.a["profile-details-item"],children:[Object(y.jsx)("b",{children:"Status:"})," ",Object(y.jsx)(k,{status:a.status})," ",a.status]}),Object(y.jsxs)("div",{className:I.a["profile-details-item"],children:[Object(y.jsx)("b",{children:"Gender:"})," ",a.gender]}),Object(y.jsxs)("div",{className:I.a["profile-details-item"],children:[Object(y.jsx)("b",{children:"Species:"})," ",a.species]}),a.type?Object(y.jsxs)("div",{className:I.a["profile-details-item"],children:[Object(y.jsx)("b",{children:"Type:"})," ",a.type]}):null,Object(y.jsxs)("div",{className:I.a["profile-details-item"],children:[Object(y.jsx)("b",{children:"Origin location:"})," ",Object(y.jsx)("a",{target:"_blank",rel:"noreferrer",href:a.origin.url,children:a.origin.name})]}),a.location?Object(y.jsxs)("div",{className:I.a["profile-details-item"],children:[Object(y.jsx)("b",{children:"Current location:"})," ",Object(y.jsx)("a",{target:"_blank",rel:"noreferrer",href:a.location.url,children:a.location.name})]}):null,Array.isArray(a.episode)?Object(y.jsxs)("div",{style:{marginTop:8},children:[Object(y.jsx)("b",{children:"Featured Episodes:"}),Object(y.jsx)("br",{}),Object(y.jsx)("div",{className:I.a["chip-wrapper"],children:a.episode.map((function(e){return Object(y.jsxs)("a",{className:I.a.chip,target:"_blank",rel:"noreferrer",href:e,children:["Episode\xa0",(t=e,t&&t.split("".concat(P,"episode/"))[1]||"")]},e);var t}))})]}):null]})]})]}):Object(y.jsxs)(y.Fragment,{children:[n,Object(y.jsx)("div",{className:"message",style:{color:"#f00"},children:'Character not found in the whole "The Rick and Morty" universe !'})]})}}]),a}(r.Component),S=function(e){Object(b.a)(a,e);var t=Object(g.a)(a);function a(e){var r;return Object(j.a)(this,a),(r=t.call(this,e)).state={pages:{},selectedPage:null,selectedCharacter:null,pageLoading:!1,characterLoading:!1},r.handlePageChange=r.handlePageChange.bind(Object(u.a)(r)),r.handleCharacterChange=r.handleCharacterChange.bind(Object(u.a)(r)),r}return Object(p.a)(a,[{key:"handlePageChange",value:function(){var e=Object(h.a)(l.a.mark((function e(t){var a,r,n,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.setState(Object(d.a)(Object(d.a)({},this.state),{},{pageLoading:!0})),a=parseInt(t),r=Object(d.a)({},this.state),n=this.state.pages[a.toString()]){e.next=11;break}return e.next=7,w(a);case 7:(i=e.sent).error?r.selectedPage=null:(n=i,r.selectedPage=n,r.pages=Object(d.a)(Object(d.a)({},r.pages),{},Object(o.a)({},a,n))),e.next=12;break;case 11:r.selectedPage=n;case 12:r.pageLoading=!1,this.setState(r);case 14:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleCharacterChange",value:function(){var e=Object(h.a)(l.a.mark((function e(t){var a,r,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.setState(Object(d.a)(Object(d.a)({},this.state),{},{characterLoading:!0})),r=null===(a=this.state.selectedPage)||void 0===a?void 0:a.results.find((function(e){return e.id===t}))){e.next=8;break}return e.next=5,T(t);case 5:n=e.sent,r=n,n.error&&(r=null);case 8:this.setState(Object(d.a)(Object(d.a)({},this.state),{},{selectedCharacter:r,characterLoading:!1}));case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return Object(y.jsx)(y.Fragment,{children:Object(y.jsxs)(O.a,{children:[Object(y.jsx)(O.b,{to:"/",children:Object(y.jsx)("header",{className:"app-header",children:Object(y.jsx)("img",{className:"app-header-logo",alt:"The Rick and Morty",src:v})})}),Object(y.jsx)("main",{className:"app-main-content",children:Object(y.jsxs)(f.d,{children:[Object(y.jsx)(f.b,{path:"/character/:characterId",render:function(t){return Object(y.jsx)(F,Object(d.a)(Object(d.a)({},t),{},{character:e.state.selectedCharacter,handleCharacterChange:e.handleCharacterChange,characterLoading:e.state.characterLoading}))}}),Object(y.jsx)(f.b,{path:"/:pageId",render:function(t){return Object(y.jsx)(L,Object(d.a)(Object(d.a)({},t),{},{page:e.state.selectedPage,handlePageChange:e.handlePageChange,pageLoading:e.state.pageLoading}))}}),Object(y.jsx)(f.b,{path:"/",children:Object(y.jsx)(f.a,{to:"/1"})})]})})]})})}}]),a}(r.Component);c.a.render(Object(y.jsx)(n.a.StrictMode,{children:Object(y.jsx)(S,{})}),document.getElementById("root"))},7:function(e,t,a){e.exports={chip:"CharacterPage_chip__Jgrav","chip-wrapper":"CharacterPage_chip-wrapper__1jqhR",wrapper:"CharacterPage_wrapper__1ZJwu","profile-details":"CharacterPage_profile-details__1BXvg","profile-details-title":"CharacterPage_profile-details-title__1ifAZ","profile-details-item":"CharacterPage_profile-details-item__3QtTm","profile-picture":"CharacterPage_profile-picture__3Emrf"}},9:function(e,t,a){e.exports={tile:"CharacterTile_tile__2XfHQ",image:"CharacterTile_image__2Bqng","image-img":"CharacterTile_image-img__3t8VC",details:"CharacterTile_details__2Iir_","sub-details":"CharacterTile_sub-details__15xNX","sub-details-line":"CharacterTile_sub-details-line__3_Err",link:"CharacterTile_link__2khkJ"}}},[[42,1,2]]]);
//# sourceMappingURL=main.2a7c78cd.chunk.js.map